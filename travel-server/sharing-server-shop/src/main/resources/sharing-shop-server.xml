<?xml version="1.0" encoding="UTF-8"?>
<servers>

	<server name="ShopServer">
		<default class="qingning.shop.server.imp.ShopServerImpl">
			<!-- 获取店铺信息 -->
			<function name="queryShop">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="query_type" type="long" require="N" />
				</inputs>
				<outputs>
					<param name="shop_id" type="string" />
					<param name="shop_name" type="string" />
					<param name="avatar_address" type="string" />
					<param name="shop_seq" type="long" />
					<param name="share_url" type="string" />
					<param name="shopkeeper_card_address" type="string" />
					<param name="statistics_info" type="map">
						<param name="order_today" type="long" />
						<param name="order_month" type="long" />
						<param name="course_total" type="long" />
						<param name="visit_times" type="long" />
					</param>
					<param name="shop_remark" type="string" />
				</outputs>
			</function>
			
			<!-- 编辑店铺信息 -->
			<function name="updateShop">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="shop_name" type="string" require="N" />
					<param name="shop_remark" type="string" require="N" />
					<param name="avatar_address" type="string" require="N" />
					<param name="shopkeeper_card" type="string" require="N" />
					<param name="shop_id" type="string" require="Y" />                                                  
				</inputs>
				<outputs>
				</outputs>
			</function>
			
			<!-- 获取店铺课程 -->
			<function name="getShopCourseList">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="page_count" type="long" require="N" />
					<param name="position" type="long" require="N" />
					<param name="share_shop_id" type="string" require="N" />
					<param name="shop_id" type="string" require="Y" />
				</inputs>
				<outputs>
					<param name="course_total" type="long" />
					<param name="course_info_list" type="list">
						<param name="course_id" type="string" />
						<param name="course_title" type="string" />
						<param name="lecturer_name" type="string" />
						<param name="lecturer_title" type="string" />
						<param name="course_type" type="long" />
						<param name="course_url" type="string" />
						<param name="sale_num" type="long" />
						<param name="course_price" type="double" />
						<param name="distributer_income" type="double" />
						<param name="share_url" type="string" />
						<param name="lecturer_avatar_address" type="string" />
						<param name="position" type="long" />
					</param>
					<param name="shop_info" type="map">
						<param name="shop_id" type="string" />
						<param name="shop_name" type="string" />
						<param name="avatar_address" type="string" />
						<param name="shop_remark" type="string" />
						<param name="public_rq_code_address" type="string" />
						<param name="share_url" type="string" />
					</param>
				</outputs>
			</function>
			
			<!-- 获取店铺中的课程id集合 -->
			<function name="getShopCourseIdList">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="shop_id" type="string" require="Y" />
				</inputs>
				<outputs>
					<param name="course_id_str" type="list" />
				</outputs>
			</function>
			
			<!-- 获取店铺销售统计 -->
			<function name="saleStatistics">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="page_count" type="long" require="N" />
					<param name="position" type="long" require="N" />
					<param name="shop_id" type="string" require="Y" />
				</inputs>
				<outputs>
					<param name="sale_money_total" type="long" />
					<param name="sale_num_total" type="long" />
					<param name="sale_income_total" type="double" />
					<param name="student_offer" type="double" />
					<param name="course_total" type="long" fieldname="course_num"/>
					<param name="sale_record_info_list" type="list">
						<param name="record_id" type="long" />
						<param name="position" type="long" />
						<param name="create_time" type="long" />
						<param name="course_info" type="map">
							<param name="course_title" type="string" />
							<param name="sale_money" type="double" />
							<param name="distributer_income" type="double" />
						</param>
						<param name="user_info" type="map">
							<param name="nick_name" type="string" />
						</param>
					</param>
				</outputs>
			</function>
			
			<!-- 获取店铺销售记录 -->
			<function name="getSaleRecord">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="page_count" type="long" require="N" />
					<param name="position" type="long" require="N" />
					<param name="shop_id" type="string" require="Y" />
				</inputs>
				<outputs>
					<param name="sale_record_info_list" type="list">
						<param name="record_id" type="long" />
						<param name="position" type="long" />
						<param name="create_time" type="long" />
						<param name="course_info" type="map">
							<param name="course_title" type="string" />
							<param name="sale_money" type="double" />
							<param name="distributer_income" type="double" />
						</param>
						<param name="user_info" type="map">
							<param name="nick_name" type="string" />
						</param>
					</param>
				</outputs>
			</function>
			
			<!-- 获取店铺客户统计 -->
			<function name="getCustomerStatistics">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="page_count" type="long" require="N" />
					<param name="position" type="long" require="N" />
					<param name="shop_id" type="string" require="Y" />
				</inputs>
				<outputs>
					<param name="customer_info_list" type="list">
						<param name="shop_customer_id" type="string" />
						<param name="cost_money" type="double" />
						<param name="cost_times" type="long" />
						<param name="position" type="long" />
						<param name="create_time" type="long" />
						<param name="customer_info" type="map">
							<param name="nick_name" type="string" />
						</param>
					</param>
					<param name="customer_num_total" type="long" />
				</outputs>
			</function>
			
			<!-- 获取店铺指定客户的购买记录 -->
			<function name="getCustomerBuyRecord">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="shop_customer_id" type="string" require="Y" />
					<param name="page_count" type="long" require="N" />
					<param name="position" type="long" require="N" />
					<param name="shop_id" type="string" require="Y" />
				</inputs>
				<outputs>
					<param name="buy_record_info_list" type="list">
						<param name="record_id" type="string" />
						<param name="create_time" type="long" />
						<param name="sale_money" type="double" />
						<param name="distributer_income" type="double" />
						<param name="position" type="long" />
						<param name="course_info" type="map">
							<param name="course_title" type="string" />
						</param>
						<param name="user_info" type="map">
							<param name="nick_name" type="string" />
						</param>
					</param>
				</outputs>
			</function>
			
			<!-- 上下架课程 -->
			<function name="putawayCourse">
				<auth>
					<accessToken require="Y" />
					<timesLimit millisecond="500" />
				</auth>
				<inputs>
					<param name="putaway_type" type="long" require="Y" />
					<param name="course_id" type="string" require="Y" />
					<param name="shop_id" type="string" require="Y" />
				</inputs>
				<outputs>
				</outputs>
			</function>
		</default>
		<version num="1.0.0" class="">
		</version>
	</server>

</servers>
